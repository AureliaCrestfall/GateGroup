@page "{recipePartId:int}"
@model CompanyWebpages.Pages.EmployeeTaskLocationModel

<h2 class="mb-3" style="font-family:'Playfair Display', serif;">
    Update location for recipe part @Model.RecipePartId
</h2>

<div class="card p-3 mb-3 bg-dark text-light shadow-sm">

    <h5 class="mb-2 fw-semibold">Current location:</h5>

    @if (Model.CurrentLocation != null)
    {
        <span class="badge bg-info">
            @Model.CurrentLocation.Type.ToString()
            (@Model.CurrentLocation.Location)
        </span>
    }
    else
    {
        <span class="badge bg-secondary">Not assigned</span>
    }

</div>

<form method="post" asp-page-handler="UpdateLocation" class="card p-3 bg-dark text-light shadow-sm">

    <input type="hidden" asp-for="RecipePartId" />

    <div class="mb-3">
        <label class="form-label fw-semibold">Move to warehouse:</label>
        <select asp-for="SelectedWarehouseId" class="form-select">
            <option value="">-- Select warehouse --</option>
            @foreach (gategourmetLibrary.Models.Warehouse w in Model.Warehouses)
            {
                <option value="@w.ID">
                    @w.Type.ToString() – @w.Location
                </option>
            }
        </select>
    </div>

    <div class="d-flex justify-content-between">
        <a asp-page="/EmployeeDashboard" class="btn btn-outline-light">
            ← Back to tasks
        </a>

        <button type="submit" class="btn btn-primary">
            Update location
        </button>
    </div>
</form>
